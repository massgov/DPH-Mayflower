# Javascript Node CircleCI 2.0 configuration file
#
# Check https://circleci.com/docs/2.0/language-javascript/ for more details

version: 2

references:
  install_global_packages: &install_global_packages
    run: {name: 'Install global packages', command: 'npm install'}
  install_aws: &install_aws
    run: {name: 'Install awscli', command: 'sudo apt-get install python-dev python-pip && sudo pip install awscli'}

defaults: &defaults
    docker:
      - image: circleci/node:10.10.0
    parallelism: 2
    working_directory: ~/repo
    
jobs:
  # Test job.
  mayflower-react-staert-test:
    <<: *defaults
    steps:
      - checkout
      - *install_global_packages
      - run:
          name: 'Install packages'
          command: npm install
      - run:
          name: 'Run lint'
          command: npm run build-css && npm run lint
      - run:
          name: 'Build App'
          command: npm run build

  
workflows:
  version: 2
  test:
    jobs:
      - mayflower-react-staert-test
